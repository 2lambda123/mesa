language: python
os:
  - linux
python:
  - "3.4"
install:
  - export FOLDER=$(pwd)
  - sudo apt-get install gfortran
  - mkdir -p ~/src/
  - cd ~/src/
  - wget http://www.netlib.org/blas/blas.tgz
  - tar xzf blas.tgz
  - cd BLAS
  - gfortran -O3 -std=legacy -m64 -fno-second-underscore -fPIC -c *.f
  - ar r libfblas.a *.o
  - ranlib libfblas.a
  - rm -rf *.o
  - export BLAS=~/src/BLAS/libfblas.a
  - mkdir -p ~/src
  - cd ~/src/
  - wget http://www.netlib.org/lapack/lapack.tgz
  - tar xzf lapack.tgz
  - cd lapack-*/
  - cp INSTALL/make.inc.gfortran make.inc
  - make lapacklib
  - make clean
  - export LAPACK=~/src/lapack-*/libflapack.a
  - cd $FOLDER
  - pip install -r requirements.txt
script:
  # ignore:
  # * E501 - line length limit
  # * E123 - indentation on data structures
  - flake8 . --ignore=F403,E501,E123 --exclude=docs/

after_success:
  - coveralls
